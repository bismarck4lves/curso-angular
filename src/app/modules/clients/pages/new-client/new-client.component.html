<h1>Formulario de cadastro</h1>

<form [formGroup]="addressForm" (ngSubmit)="onSubmit()">
  <input placeholder="Email" formControlName="email" type="email" />
  <input placeholder="CEP" formControlName="cep" type="text" />
  <input formControlName="street" type="text" placeholder="Rua" />
  <input placeholder="Número" formControlName="number" type="text" />
  <input placeholder="Complemento" formControlName="complement" type="text" />
  <input placeholder="Bairro" formControlName="neighborhood" type="text" />
  <input placeholder="Cidade" formControlName="city" type="text" />
  <input placeholder="Estado" formControlName="state" type="text" />

  <h2>Responsáveis</h2>
  <button (click)="addResponsibleRow()">Novo responsável</button>

  <ng-container
    *ngFor="let responsible of responsibleForm.controls; let index = index"
  >
    <div [formGroup]="responsible">
      <input placeholder="Nome" formControlName="name" />
      <input placeholder="Email" formControlName="email" />
      <button (click)="removeItem(index)">Remover item</button>
    </div>
  </ng-container>

  <button type="submit" contained [disabled]="addressForm.invalid">
    Salvar
  </button>
</form>
